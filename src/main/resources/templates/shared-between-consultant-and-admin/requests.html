<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Requests page</title>

<object th:replace="fragments/util :: standardCSS"></object>
</head>

<body id="mimin" class="dashboard">
	<!-- start: Header -->
	<div th:replace="fragments/header :: header"></div>
	<!-- end: Header -->

	<div class="container-fluid mimin-wrapper">

		<!-- start:Left Menu -->
		<div th:replace="fragments/menu :: leftMenu"></div>
		<!-- end: Left Menu -->


		<!-- start: content -->
		<div id="content">
			<div class="panel box-shadow-none content-header">
				<div class="panel-body">
					<div class="col-md-12">
						<h3 class="animated fadeInLeft">Requests page</h3>
						<p class="animated fadeInDown">
							Find the new received requests below.
						</p>
					</div>
				</div>
			</div>

			<div class="col-md-12" style="padding: 20px;">
				<div class="col-md-12 padding-0">
					<div class="col-md-12 padding-0">
						<div class="panel-body">
							<div class="responsive-table">
								<table class="table table-bordered table-striped">
									<thead>
										<tr>
											<th>ID</th>
											<th>Name</th>
											<th>Email</th>
											<th>Text type</th>
											<th>Language</th>
											<th>Detail</th>
											<th>Download File</th>
											<th>Accept</th>
										</tr>
									</thead>
									<tbody>
										<tr class="table-row" th:each="consultation : ${consultations}">
											<td th:text="${consultation.id}"></td>
											<td th:text="${consultation.name}"></td>
											<td th:text="${consultation.email}"></td>
											<td th:text="${consultation.textType}"></td>
											<td th:text="${consultation.language}"></td>
											<!--  td th:text="${consultation.file}"></td-->
											<td>
											<a th:href="@{/requests/detail/{id}(id=${consultation.id})}">
													Details	
											</a>
											</td>
											<td><a th:href="${consultation.generateUploadUrl()}"
												th:if="${consultation.hasFile()}"> <span class="glyphicon glyphicon-download-alt"></span>
													Download
											</a></td>
											
												<form style='float: left; padding: 5px; height: 0px' id="request-form"
													th:object="${consultation}" th:method="post"
													th:action="@{/requests/{id}(id=${consultation.id})}">
											<td>
													<button class="btn btn-primary" type="submit">Accept</button>
											</td>	
												</form>
											
										</tr>
									</tbody>
								</table>
							</div>
						</div>
					</div>

				</div>

				<div class="col-md-12 card-wrap padding-0"></div>

			</div>
		</div>
		<!-- end: content -->

	</div>

	<!-- start: Mobile -->
	<div id="mimin-mobile" class="reverse" th:include="fragments/menu :: mobileMenu"></div>
	<button id="mimin-mobile-menu-opener" class="animated rubberBand btn btn-circle btn-danger">
		<span class="fa fa-bars"></span>
	</button>
	<!-- end: Mobile -->

	<!-- start: Javascript -->
	<div th:replace="fragments/util :: standardJS"></div>
	<!-- plugins -->
	<script th:src="@{/webjars/morrisjs/0.5.1/morris.min.js}"></script>
	<script th:src="@{/webjars/raphaeljs/2.1.2/raphael-min.js}"></script>
	<!-- end: Javascript -->
</body>
</html>